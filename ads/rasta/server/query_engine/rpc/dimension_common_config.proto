syntax = "proto2";

package ads_rasta_server_query_engine_dimension;

option java_package = "com.google.ads.rasta.queryengine.dimension";

message DimensionValues {
    repeated string values = 1;
    optional bool all_values = 2;
    optional bool remaining_values = 3;
    optional string label = 4;
    optional bool scatter_values = 5 [default = false];
}

message BulletmetricsDimensionOptions {
    optional DimensionType dimension_type = 1;
    enum DimensionType {
        UNSPECIFIED = 0;
        QUERY_LEVEL = 1;
        IMPRESSION_LEVEL = 2;
    }
    
    optional string sql_definition = 2;
}

message AQDimensionOptions {
    optional DimensionType dimension_type = 1;
    enum DimensionType {
        UNSPECIFIED = 0;
        QUERY_LEVEL = 1;
        IMPRESSION_LEVEL = 2;
    }
    
    optional string sql_definition = 2;
}

message AndroidTelemetryDimensionOptions {
    optional string dimension_id = 1;
}

message RemoteMetricServerSpecificDimensionData {
    optional BulletmetricsDimensionOptions bulletmetrics_dimension_options = 1 [deprecated = true];
    optional AQDimensionOptions aq_dimension_options = 2;
    optional AndroidTelemetryDimensionOptions android_telemetry_dimension_options = 3;
}

message UserInputFieldValue {
    optional string identifier = 1;
    repeated string value = 2;
}

message Dimension {
    optional string dimension = 1;
    repeated DimensionValues values = 2;
    optional bool from_custom_spec = 3;
    optional bool enable_prioritized_matching = 4 [default = false];
    repeated UserInputFieldValue associated_user_input_fields = 5;
    optional RemoteMetricServerSpecificDimensionData remote_metric_server_specific_data = 6;
    optional string custom_label = 7;
}
