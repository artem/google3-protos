syntax = "proto2";

package privacy.context;

import "dataresidency/mapping/cloud/cloud_locations_enum.proto";
import "privacy/ads/user_data_enforcement/data-usage.proto";
import "privacy/context/proto/privacy_attributes_setter.proto";
import "privacy/context/proto/privacy_context_id.proto";
import "privacy/data_governance/attributes/proto/ddt.proto";
import "privacy/data_governance/attributes/proto/purpose.proto";
import "privacy/pattributes/public/proto/semantic_purpose.proto";
import "privacy/ptoken/public/core/logical_policy.proto";
import "privacy/ptoken/public/core/request_context_defs.proto";
import "privacy/ptoken/public/core/sot_mappings.proto";

option java_multiple_files = true;

message PrivacyContextPortability {
    optional int64 timestamp_micros = 1;
    optional int32 origin_associated_product_id = 2;
    repeated data_governance.attributes.ProcessingPurpose.Purpose processing_purpose = 3 [packed = true];
    optional bool dma52_cross_use_offered_together = 4;
    optional .ptoken.Dma52ProcessingType dma52_processing_type = 6;
    repeated .ptoken.LogicalPolicy.Enum poe_enforced_return_policies = 7 [packed = true];
    repeated .ptoken.PolicyRolloutEnforcementMode request_policy_rollout_enforcement_mode = 8 [packed = true];
    repeated .ptoken.LogicalPolicy.Enum policies_breakglass = 12 [packed = true];
    repeated ads.user_data_enforcement.DataUsage ads_processing_purpose = 14 [packed = true];
    repeated .ptoken.LogicalPolicy.Enum policies_breakglass_still_evaluated = 16 [packed = true];
    optional bool origin_is_end_user = 17;
    optional bool assistant_guest_mode_enabled = 18;
    optional .ptoken.YoutubePrivacyEnhancedPlayerType youtube_privacy_enhanced_player_type = 19;
    optional bool youtube_autoplay_embedded_playback = 20;
    repeated .ptoken.LogicalPolicy.Enum paf_enforced_return_policies = 21 [packed = true];
    optional .ptoken.EssentialUseConsentState essential_use_consent_state = 23;
    optional .pattributes.SemanticPurpose semantic_purpose = 24;
    repeated .pattributes.SemanticPurpose deferred_semantic_purposes = 25 [packed = true];
    optional bool is_dark_launch_request = 27;
    optional bytes bitfield_value = 10;
    optional bytes bitfield_set = 11;
    optional .ptoken.SotMappings sot = 13;
    optional PrivacyAttributesSetter privacy_attributes_setter = 15;
    optional data_governance.attributes.DDTContext ddt = 22;
    optional fixed64 jls_flow_id = 26;
    optional PrivacyContextId privacy_context_id = 28;
    
    oneof origin_logical_location {
        data_residency.mapping.cloud.CloudDataResidencyLocation origin_logical_cloud_location = 9;
    }
    
    reserved 5;
}
