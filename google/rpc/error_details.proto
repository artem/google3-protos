syntax = "proto3";

package google.rpc;

import "google/protobuf/duration.proto";
import "storage/datapol/annotations/proto/semantic_annotations.proto";

option objc_class_prefix = "RPC";
option go_package = "google.golang.org/genproto/googleapis/rpc/errdetails;errdetails";
option java_multiple_files = true;
option java_outer_classname = "ErrorDetailsProto";
option java_package = "com.google.rpc";

message ErrorInfo {
    string reason = 1;
    string domain = 2;
    map<string, string> metadata = 3;
}

message RetryInfo {
    protobuf.Duration retry_delay = 1;
}

message DebugInfo {
    repeated string stack_entries = 1;
    string detail = 2;
}

message QuotaFailure {
    repeated Violation violations = 1;
    message Violation {
        string subject = 1;
        string description = 2;
        string api_service = 3;
        string quota_metric = 4;
        string quota_id = 5;
        map<string, string> quota_dimensions = 6;
        int64 quota_value = 7;
        
        oneof _future_quota_value {
            int64 future_quota_value = 8;
        }
    }
}

message PreconditionFailure {
    repeated Violation violations = 1;
    message Violation {
        string type = 1;
        string subject = 2;
        string description = 3;
    }
}

message BadRequest {
    repeated FieldViolation field_violations = 1;
    message FieldViolation {
        string field = 1;
        string description = 2;
        string reason = 3;
        LocalizedMessage localized_message = 4;
    }
}

message RequestInfo {
    string request_id = 1;
    string serving_data = 2;
}

message ResourceInfo {
    string resource_type = 1;
    string resource_name = 2;
    string owner = 3;
    string description = 4;
}

message Help {
    repeated Link links = 1;
    message Link {
        string description = 1;
        string url = 2;
    }
}

message LocalizedMessage {
    string locale = 1;
    string message = 2;
}
